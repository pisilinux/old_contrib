## https://github.com/arter97/exfat-linux/pull/15
--- a/misc.c	2019-10-29 11:35:05.000000000 +0300
+++ b/misc.c	2020-06-25 14:30:44.468593581 +0300
@@ -154,7 +154,7 @@
 	} while (0)
 
 /* Linear day numbers of the respective 1sts in non-leap years. */
-static time_t accum_days_in_year[] = {
+static ktime_t accum_days_in_year[] = {
 	/* Month : N 01  02  03  04  05  06  07  08  09  10  11  12 */
 	0, 0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 0, 0, 0,
 };
@@ -163,8 +163,8 @@
 void exfat_time_fat2unix(struct exfat_sb_info *sbi, struct timespec_compat *ts,
 		DATE_TIME_T *tp)
 {
-	time_t year = tp->Year;
-	time_t ld; /* leap day */
+	ktime_t year = tp->Year;
+	ktime_t ld; /* leap day */
 
 	MAKE_LEAP_YEAR(ld, year);
 
@@ -186,9 +186,9 @@
 void exfat_time_unix2fat(struct exfat_sb_info *sbi, struct timespec_compat *ts,
 		DATE_TIME_T *tp)
 {
-	time_t second = ts->tv_sec;
-	time_t day, month, year;
-	time_t ld; /* leap day */
+	ktime_t second = ts->tv_sec;
+	ktime_t day, month, year;
+	ktime_t ld; /* leap day */
 
 	if (!sbi->options.tz_utc)
 		second -= sys_tz.tz_minuteswest * SECS_PER_MIN;
